<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product Display</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  
    <style>
        .navbar
        {
            background: linear-gradient(45deg,rgb(105, 112, 115),rgb(122, 198, 228),rgb(17, 157, 213));
        } 
       
    </style>
</head>
<body>

<div class="container mt-4">
  <div class="d-flex justify-content-between mb-3">
    <input type="text" id="search-box" placeholder="Search by brand..." class="form-control w-50">
    <div>
      <button class="btn btn-primary" id="home-btn">Home</button>
      <button class="btn btn-info" id="audio-btn">Audio</button>
      <button class="btn btn-warning" id="gaming-btn">Gaming</button>
    </div>
  </div>

  <div class="row" id="data-ele"></div>
  <div class="text-center mt-4" id="grand-total"></div>
</div>

<script>
  let products = [
    {
      id: 1,
      title: "Microsoft Xbox X/S Wireless Controller Robot White",
      imgURL: "https://storage.googleapis.com/fir-auth-1c3bc.appspot.com/1692255251854-xbox.jpg",
      price: 1000,
      brand: "Microsoft",
      category: "Gaming",
      qty: 1
    },
    {
      id: 2,
      title: "Sony WH-1000XM3 Bluetooth Wireless Over Ear Headphones with Mic (Silver)",
      imgURL: "https://storage.googleapis.com/fir-auth-1c3bc.appspot.com/1692947383286-714WUJlhbLS._SL1500_.jpg",
      price: 2000,
      brand: "Sony",
      category: "audio",
      qty: 1
    },
    {
      id: 3,
      title: "Logitech G733 Lightspeed Wireless Gaming Headset",
      imgURL: "https://storage.googleapis.com/fir-auth-1c3bc.appspot.com/1692257709689-logitech heaphone.jpg",
      price: 3000,
      brand: "Logitech G",
      category: "Gaming",
      qty: 1
    },
    {
      id: 4,
      title: "Urbanista Los Angeles Sand Gold - Solar Powered",
      imgURL: "https://storage.googleapis.com/fir-auth-1c3bc.appspot.com/1691056487173-headphon2.jpg",
      price: 4000,
      brand: "Los Angeles",
      category: "audio",
      qty: 1
    }
  ];

  function display(items) {
    if (items.length === 0) {
      alert("Please add the products");
      return;
    }

    let eachItem = "";
    let grandTotal = 0;

    for (let item of items) {
      let totalprice = item.qty * item.price;
      grandTotal += totalprice;
      eachItem += `
        <div class="col-md-3 mb-4">
          <div class="card h-100">
            <div class="card-header p-2">
              <img src="${item.imgURL}" alt="${item.title}" class="img-fluid">
            </div>
            <div class="card-body text-center">
              <h5 class="text-danger">${item.brand}</h5>
              <p>${item.title}</p>
              <h4>₹${item.price}.00</h4>
              <div class="my-2">
                <button class="btn btn-danger" onclick="decqty(${item.id})"><i class="bi bi-dash-circle-fill"></i></button>
                <span class="h5 mx-2" id="qty-ele-${item.id}">${item.qty}</span>
                <button class="btn btn-success" onclick="incqty(${item.id})"><i class="bi bi-plus-circle-fill"></i></button>
              </div>
              <h6 id="tprice-${item.id}">Total: ₹${totalprice}.00</h6>
            </div>
          </div>
        </div>`;
    }

    document.getElementById("data-ele").innerHTML = eachItem;
    document.getElementById("grand-total").innerHTML = `
      <h4 class="text-success">Grand Total: ₹${grandTotal}.00</h4>
    `;
  }

  display(products);

  function incqty(id) {
    products = products.map(item =>
      item.id === id ? { ...item, qty: item.qty + 1 } : item
    );
    display(products);
  }

  function decqty(id) {
    products = products.map(item =>
      item.id === id ? { ...item, qty: item.qty > 1 ? item.qty - 1 : 1 } : item
    );
    display(products);
  }

  function audioproducts() {
    const filtered = products.filter(item => item.category === "audio");
    display(filtered);
  }

  function gamingproducts() {
    const filtered = products.filter(item => item.category === "Gaming");
    display(filtered);
  }

  function searchHere(value, items) {
    value = value.toLowerCase().trim();
    return items.filter(item => item.brand.toLowerCase().includes(value));
  }

  document.getElementById("audio-btn").addEventListener("click", audioproducts);
  document.getElementById("gaming-btn").addEventListener("click", gamingproducts);
  document.getElementById("home-btn").addEventListener("click", () => display(products));
  document.getElementById("search-box").addEventListener("keyup", () => {
    let value = document.getElementById("search-box").value;
    let filtered = searchHere(value, products);
    display(filtered);
  });
</script>

</body>
</html>
